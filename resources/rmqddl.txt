!
! Generated by LightWave Client 1.2.0 on Thu, 21 Jan 2021 03:50:40 PM MST.
! API "sample-lwc-rabbitmq", saved on Thu, 21 Jan 2021 03:19:14 PM MST
!

?SECTION API-DEL.
!
! Delete API "sample-lwc-rabbitmq" definitions.
! Note that "Object not in dictionary" errors may be ignored.
!
?ERRORS 20
DELETE DEF GET-MESSAGES-OTHER-RP.
DELETE DEF GET-MESSAGES-200-RP.
DELETE DEF GET-MESSAGES-RQ.
DELETE DEF PUB-BASE-64-MSG-OTHER-RP.
DELETE DEF PUB-BASE-64-MSG-200-RP.
DELETE DEF PUB-BASE-64-MSG-RQ.
DELETE DEF PUB-STRING-MSG-OTHER-RP.
DELETE DEF PUB-STRING-MSG-200-RP.
DELETE DEF PUB-STRING-MSG-RQ.
DELETE DEF ERROR-RP.
DELETE DEF PUB-RP.
DELETE DEF PUB-BASE-64-RQ.
DELETE DEF PUB-STRING-RQ.
DELETE DEF GET-RP.
DELETE DEF GET-RQ.
DELETE DEF MESSAGE-TYPE.
DELETE DEF BASIC-PROPERTIES.
DELETE DEF SAMPLE-LWC-RABBITMQ-ENM.
DELETE DEF SAMPLE-LWC-RABBITMQ-VAL.
?ERRORS 1

?SECTION LIGHTWAVE-DEL.
!
! Delete LightWave Client common definitions.
! Note that "Object not in dictionary" errors may be ignored.
!
?ERRORS 8
DELETE DEF LIGHTWAVE-ERROR-RP.
DELETE DEF LIGHTWAVE-RP-HEADER.
DELETE DEF LIGHTWAVE-RQ-HEADER.
DELETE DEF LIGHTWAVE-ERROR-ENUM.
DELETE DEF LIGHTWAVE-ERROR-SRC-ENUM.
DELETE DEF LIGHTWAVE-INFO-CODE-ENUM.
DELETE DEF LIGHTWAVE-RP-CODE-ENUM.
?ERRORS 1

?SECTION LIGHTWAVE-DEF.
!
! LightWave Client common definitions.
!
?C00CALIGN
DEF LIGHTWAVE-RP-CODE-ENUM TYPE ENUM BEGIN.
  89 LW-RP-SUCCESS                         VALUE 0.
  89 LW-RP-INFO                            VALUE 1.
  89 LW-RP-ERROR                           VALUE 2.
END.

DEF LIGHTWAVE-INFO-CODE-ENUM TYPE ENUM BEGIN.
  89 LW-INFO-FIELD-TRUNCATED               VALUE 100.
  89 LW-INFO-ARRAY-TRUNCATED               VALUE 101.
END.

DEF LIGHTWAVE-ERROR-SRC-ENUM TYPE ENUM BEGIN.
  89 LW-ERROR-SRC-LIGHTWAVE                VALUE 1.
  89 LW-ERROR-SRC-HTTP                     VALUE 2.
  89 LW-ERROR-SRC-TCPIP                    VALUE 3.
  89 LW-ERROR-SRC-SSL                      VALUE 4.
END.

DEF LIGHTWAVE-ERROR-ENUM TYPE ENUM BEGIN.
  89 LW-ERROR-INVALID-LICENSE              VALUE 1.
  89 LW-ERROR-INVALID-HEADER               VALUE 2.
  89 LW-ERROR-INVALID-RQ-CODE              VALUE 3.
  89 LW-ERROR-INVALID-TYPE                 VALUE 4.
  89 LW-ERROR-SERIALIZATION-ERROR          VALUE 5.
  89 LW-ERROR-DESERIALIZATION-ERROR        VALUE 6.
  89 LW-ERROR-REQUEST-TIMEOUT              VALUE 7.
  89 LW-ERROR-RESPONSE-NOT-DEFINED         VALUE 12.
  89 LW-ERROR-INVALID-URI-SCHEME           VALUE 100.
  89 LW-ERROR-INVALID-API-DEF              VALUE 101.
  89 LW-ERROR-INVALID-BASE-URI             VALUE 102.
  89 LW-ERROR-INVALID-HDR-VERSION          VALUE 103.
  89 LW-ERROR-SIGNATURE-ERROR              VALUE 104.
  89 LW-ERROR-INTERNAL-ERROR               VALUE 500.
END.

DEF LIGHTWAVE-RQ-HEADER.
  02 RQ-CODE                             TYPE BINARY 16.
  02 RQ-VERSION                          TYPE BINARY 16 UNSIGNED.
  02 RQ-TIMEOUT                          TYPE BINARY 32 UNSIGNED.
  02 RESERVED                            PIC X(24).
END.

DEF LIGHTWAVE-RP-HEADER.
  02 RP-CODE                             TYPE BINARY 16.
  02 HTTP-STATUS                         TYPE BINARY 16.
  02 INFO-CODE                           TYPE BINARY 16.
  02 INFO-DETAIL                         TYPE BINARY 16.
  02 RESERVED                            PIC X(24).
END.

DEF LIGHTWAVE-ERROR-RP.
  02 LIGHTWAVE-RP-HEADER                 TYPE LIGHTWAVE-RP-HEADER.
  02 ERROR-SOURCE                        TYPE BINARY 32.
  02 ERROR-CODE                          TYPE BINARY 32.
  02 ERROR-SUBCODE                       TYPE BINARY 32.
  02 ERROR-MESSAGE                       PIC X(4096).
END.

?SECTION API-DEF.
!
! API "sample-lwc-rabbitmq" definitions.
!
?C00CALIGN
DEF SAMPLE-LWC-RABBITMQ-VAL.
  02 RQ-PUB-STRING-MSG                     PIC S9(4) COMP VALUE 1.
  02 RQ-PUB-BASE-64-MSG                    PIC S9(4) COMP VALUE 2.
  02 RQ-GET-MESSAGES                       PIC S9(4) COMP VALUE 3.
END.

DEF SAMPLE-LWC-RABBITMQ-ENM TYPE ENUM BEGIN.
  89 RQ-PUB-STRING-MSG                     VALUE 1.
  89 RQ-PUB-BASE-64-MSG                    VALUE 2.
  89 RQ-GET-MESSAGES                       VALUE 3.
END.

DEF BASIC-PROPERTIES.
  02 CLUSTER-ID                          PIC X(32).
  02 APP-ID                              PIC X(32).
  02 USER-ID                             PIC X(32).
  02 TYPE-RW                             PIC X(32).
  02 TIMESTAMP                           TYPE BINARY 32 UNSIGNED.
  02 MESSAGE-ID                          PIC X(32).
  02 EXPIRATION                          PIC X(32).
  02 REPLY-TO                            PIC X(32).
  02 CORRELATION-ID                      PIC X(32).
  02 PRIORITY                            TYPE BINARY 32.
  02 DELIVERY-MODE                       TYPE BINARY 32.
  02 HEADERS-COUNT                       TYPE BINARY 16.
  02 HEADERS                             OCCURS 10 TIMES.
     03 MAP-KEY                          PIC X(32).
     03 MAP-VALUE                        PIC X(32).
  02 CONTENT-ENCODING                    PIC X(32).
  02 CONTENT-TYPE                        PIC X(32).
END.

DEF MESSAGE-TYPE.
  02 PAYLOAD-BYTES                       TYPE BINARY 32.
  02 REDELIVERED                         TYPE BINARY 32.
  02 EXCHANGE                            PIC X(64).
  02 ROUTING-KEY                         PIC X(64).
  02 MESSAGE-COUNT                       TYPE BINARY 32 UNSIGNED.
  02 PROPERTIES                          TYPE BASIC-PROPERTIES.
  02 PAYLOAD-ENCODING                    PIC X(64).
  02 PAYLOAD-SIZE                        TYPE BINARY 32 UNSIGNED.
  02 PAYLOAD                             PIC X(50000).
END.

DEF GET-RQ.
  02 COUNT-RW                            TYPE BINARY 32 UNSIGNED.
  02 ACKMODE                             PIC X(64).
  02 ENCODING                            PIC X(64).
  02 TRUNCATE                            TYPE BINARY 32 UNSIGNED.
END.

DEF GET-RP.
  02 MSG-COUNT                           TYPE BINARY 16.
  02 ITEM                                TYPE MESSAGE-TYPE OCCURS 10 TIMES.
END.

DEF PUB-STRING-RQ.
  02 PROPERTIES                          TYPE BASIC-PROPERTIES.
  02 ROUTING-KEY                         PIC X(64).
  02 PAYLOAD-ENCODING                    PIC X(64).
  02 PAYLOAD                             PIC X(50000).
END.

DEF PUB-BASE-64-RQ.
  02 PROPERTIES                          TYPE BASIC-PROPERTIES.
  02 ROUTING-KEY                         PIC X(64).
  02 PAYLOAD-ENCODING                    PIC X(64).
  02 PAYLOAD-SIZE                        TYPE BINARY 32 UNSIGNED.
  02 PAYLOAD                             PIC X(50000).
END.

DEF PUB-RP.
  02 ROUTED                              TYPE BINARY 32.
END.

DEF ERROR-RP.
  02 ERROR-RW                            PIC X(128).
  02 REASON                              PIC X(1024).
END.

!
! Operation:    POST /api/exchanges/{vhost}/{name}/publish
! Description:  Publish a string message to a given exchange.
! Request Code: RQ-PUB-STRING-MSG
!
DEF PUB-STRING-MSG-RQ.
  02 LIGHTWAVE-RQ-HEADER                 TYPE LIGHTWAVE-RQ-HEADER.
  02 VHOST                               PIC X(64).
  02 NAME                                PIC X(64).
  02 PUB-STRING-RQ                       TYPE PUB-STRING-RQ.
END.

DEF PUB-STRING-MSG-200-RP.
  02 LIGHTWAVE-RP-HEADER                 TYPE LIGHTWAVE-RP-HEADER.
  02 PUB-RP                              TYPE PUB-RP.
END.

DEF PUB-STRING-MSG-OTHER-RP.
  02 LIGHTWAVE-RP-HEADER                 TYPE LIGHTWAVE-RP-HEADER.
  02 ERROR-RP                            TYPE ERROR-RP.
END.

!
! Operation:    POST /api/exchanges/{vhost}/{name}/publish
! Description:  Publish a base64 message to a given exchange.
! Request Code: RQ-PUB-BASE-64-MSG
!
DEF PUB-BASE-64-MSG-RQ.
  02 LIGHTWAVE-RQ-HEADER                 TYPE LIGHTWAVE-RQ-HEADER.
  02 VHOST                               PIC X(64).
  02 NAME                                PIC X(64).
  02 PUB-BASE-64-RQ                      TYPE PUB-BASE-64-RQ.
END.

DEF PUB-BASE-64-MSG-200-RP.
  02 LIGHTWAVE-RP-HEADER                 TYPE LIGHTWAVE-RP-HEADER.
  02 PUB-RP                              TYPE PUB-RP.
END.

DEF PUB-BASE-64-MSG-OTHER-RP.
  02 LIGHTWAVE-RP-HEADER                 TYPE LIGHTWAVE-RP-HEADER.
  02 ERROR-RP                            TYPE ERROR-RP.
END.

!
! Operation:    POST /api/queues/{vhost}/{name}/get
! Description:  Get messages from a queue.
! Request Code: RQ-GET-MESSAGES
!
DEF GET-MESSAGES-RQ.
  02 LIGHTWAVE-RQ-HEADER                 TYPE LIGHTWAVE-RQ-HEADER.
  02 VHOST                               PIC X(64).
  02 NAME                                PIC X(64).
  02 GET-RQ                              TYPE GET-RQ.
END.

DEF GET-MESSAGES-200-RP.
  02 LIGHTWAVE-RP-HEADER                 TYPE LIGHTWAVE-RP-HEADER.
  02 GET-RP                              TYPE GET-RP.
END.

DEF GET-MESSAGES-OTHER-RP.
  02 LIGHTWAVE-RP-HEADER                 TYPE LIGHTWAVE-RP-HEADER.
  02 ERROR-RP                            TYPE ERROR-RP.
END.


!
! End of file.
!
